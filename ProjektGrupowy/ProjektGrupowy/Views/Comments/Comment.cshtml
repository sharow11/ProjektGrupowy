
@using ProjektGrupowy.Models
@model ProjektGrupowy.Models.CommentViewModel

<div style="margin-left: 5px">
    @Html.DisplayFor(x => x.Comment.CommentText)
    User:
    @Html.DisplayFor(x => x.Comment.AspNetUser.UserName)
    Reply
    @using (Html.BeginForm("PostComment", "Ideas"))
    {
        <input id="id" name="id" type="hidden" value="@Model.Comment.Idea.Id">
        <input id="commentString" name="commentString" type="text" value="@Model.CommentString">
        <input id="parentId" name="parentId" type="hidden" value="@Model.Comment.Id">
        <input type="submit" value="PostComment" />
    }
    @foreach (var comment in Model.Comments.Where(x => x.Parent != null && x.Parent.Id == Model.Comment.Id))
    {
        @Html.Partial("~/Views/Comments/Comment.cshtml", new CommentViewModel(comment, Model.Comments, Model.IdeaId));
    }
</div>
